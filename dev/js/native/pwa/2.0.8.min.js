"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e=["standalone","fullscreen","minimal-ui"],t="#f8f9fa",n=24,r=128,o=48,a=32,i=navigator.userAgent||"",l=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&-1!==i.indexOf("Mobile/"),c=Boolean(i.match(/(MSIE |Edge\/|Trident\/)/)),u="undefined"!=typeof Windows;function s(){var i=document.head.querySelector('link[rel="manifest"]'),s=i?i.href:"";if(!s)throw'can\'t find <link rel="manifest" href=".." />\'';var h=function(e){for(var t=function(t){var n=e[t];try{return new URL("",n),{v:function(e){return new URL(e||"",n).toString()}}}catch(e){}},n=0;n<e.length;++n){var r=t(n);if("object"===_typeof(r))return r.v}return function(e){return e||""}}([s,window.location]),w=new XMLHttpRequest;w.open("GET",s),w.withCredentials="use-credentials"===i.getAttribute("crossorigin"),w.onload=function(){try{!function(i,s){var h=i.icons||[];h.sort(function(e,t){return parseInt(t.sizes,10)-parseInt(e.sizes,10)});var w=h.map(function(e){var t={rel:"icon",href:s(e.src),sizes:e.sizes};if(f("link",t),l){var n=parseInt(e.sizes,10);if(!(n<120))return t.rel="apple-touch-icon",t}}).filter(Boolean);if(w.length){var b=w[w.length-1];delete b.sizes}w=w.map(function(e){return f("link",e)});var y=document.head.querySelector('meta[name="viewport"]'),k=y&&y.content||"",S=Boolean(k.match(/\bviewport-fit\s*=\s*cover\b/)),_=i.display,x=-1!==e.indexOf(_);if(d("mobile-web-app-capable",x),function(e,t){if(l||u){var n=m(e);if(l){var r=t?"black-translucent":n?"black":"default";d("apple-mobile-web-app-status-bar-style",r)}else{var o=function(){try{return Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar}catch(e){}}();if(!o)return;o.foregroundColor=p(n?"black":"white"),o.backgroundColor=p(e)}}}(i.theme_color||"black",S),c){d("application-name",i.short_name),d("msapplication-tooltip",i.description),d("msapplication-starturl",s(i.start_url||".")),d("msapplication-navbutton-color",i.theme_color);var I=h[0];I&&d("msapplication-TileImage",s(I.src)),d("msapplication-TileColor",i.background_color)}document.head.querySelector('[name="theme-color"]')||d("theme-color",i.theme_color);if(!l){var C=(T=i.orientation,{por:"portrait",lan:"landscape"}[String(T||"").substr(0,3)]||"");return d("x5-orientation",C),d("screen-orientation",C),void("fullscreen"===_?(d("x5-fullscreen","true"),d("full-screen","yes")):x&&(d("x5-page-mode","app"),d("browsermode","application")))}var T;var E=m(i.background_color||t),R=function(e){var t;return(e||[]).filter(function(e){return"itunes"===e.platform}).forEach(function(e){if(e.id)t=e.id;else{var n=e.url.match(/id(\d+)/);n&&(t=n[1])}}),t}(i.related_applications);function A(e,l,c){var u=e.width,s=e.height,f=window.devicePixelRatio,d=g({width:u*f,height:s*f});if(d.scale(f,f),d.fillStyle=i.background_color||t,d.fillRect(0,0,u,s),d.translate(u/2,(s-a)/2),c){var p=c.width/f,h=c.height/f;h>r&&(p/=h/r,h=r),p>=o&&h>=o&&(d.drawImage(c,p/-2,h/-2,p,h),d.translate(0,h/2+a))}d.fillStyle=E?"white":"black",d.font="".concat(n,"px HelveticaNeue-CondensedBold");var m=i.name||i.short_name||document.title,v=d.measureText(m).width;if(v<.8*u)d.fillText(m,v/-2,0);else for(var w=m.split(/\s+/g),b=1;b<=w.length;++b){var y=w.slice(0,b).join(" "),k=d.measureText(y).width;(b===w.length||k>.6*u)&&(d.fillText(y,k/-2,0),d.translate(0,1.2*n),w.splice(0,b),b=0)}return function(){var e=document.createElement("link");return e.setAttribute("rel","apple-touch-startup-image"),e.setAttribute("media","(orientation: ".concat(l,")")),e.setAttribute("href",d.canvas.toDataURL()),e}}function O(e){var t=A(window.screen,"portrait",e),n=A({width:window.screen.height,height:window.screen.width},"landscape",e);window.setTimeout(function(){document.head.appendChild(t()),window.setTimeout(function(){document.head.appendChild(n())},10)},10)}R&&d("apple-itunes-app","app-id=".concat(R)),d("apple-mobile-web-app-capable",x),d("apple-mobile-web-app-title",i.short_name||i.name);var z=w[0],L=new Image;if(L.crossOrigin="anonymous",L.onerror=function(){O()},!w.length)return void L.onerror();L.onload=function(){if(O(L),i.background_color){var e=v(L,i.background_color);e&&(z.href=e,w.slice(1).forEach(function(e){var t=new Image;t.crossOrigin="anonymous",t.onload=function(){var n=v(t,i.background_color,!0);e.href=n},t.src=e.href}))}},L.src=z.href}(JSON.parse(w.responseText),h)}catch(e){console.warn("pwacompat.js error",e)}},w.send(null)}function f(e,t){var n=document.createElement(e);for(var r in t)n.setAttribute(r,t[r]);return document.head.appendChild(n),n}function d(e,t){t&&(!0===t&&(t="yes"),f("meta",{name:e,content:t}))}function p(e){var t=h(e);return{r:t[0],g:t[1],b:t[2],a:t[3]}}function h(e){var t=g();return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data}function m(e){var t=h(e).map(function(e){var t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),n=.2126*t[0]+.7152*t[1]+.0722*t[2];return Math.abs(1.05/(n+.05))>3}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(e);if((r.drawImage(e,0,0),!n)&&255==r.getImageData(0,0,1,1).data[3])return;return r.globalCompositeOperation="destination-over",r.fillStyle=t,r.fillRect(0,0,e.width,e.height),r.canvas.toDataURL()}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},t=e.width,n=e.height,r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d")}"complete"===document.readyState?s():window.addEventListener("load",s)}();