!function(e){var t=function(){};"object"==typeof module&&"object"==typeof module.exports&&require("../lib/Pure-JavaScript-HTML5-Parser/htmlparser.js"),e.html2json=function(e){e=function(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*\>\n/,"").replace(/<!DOCTYPE.*\>\n/,"")}(e);var r=[],n={node:"root",child:[]};return HTMLParser(e,{start:function(e,i,a){t(e,i,a);var o={node:"element",tag:e};if(0!==i.length&&(o.attr=i.reduce(function(e,t){var r=t.name,n=t.value;return n.match(/ /)&&(n=n.split(" ")),e[r]?Array.isArray(e[r])?e[r].push(n):e[r]=[e[r],n]:e[r]=n,e},{})),a){var c=r[0]||n;void 0===c.child&&(c.child=[]),c.child.push(o)}else r.unshift(o)},end:function(e){t(e);var i=r.shift();if(i.tag!==e&&console.error("invalid state: mismatch end tag"),0===r.length)n.child.push(i);else{var a=r[0];void 0===a.child&&(a.child=[]),a.child.push(i)}},chars:function(e){t(e);var i={node:"text",text:e};if(0===r.length)n.child.push(i);else{var a=r[0];void 0===a.child&&(a.child=[]),a.child.push(i)}},comment:function(e){t(e);var n={node:"comment",text:e},i=r[0];void 0===i.child&&(i.child=[]),i.child.push(n)}}),n},e.json2html=function e(t){var r="";t.child&&(r=t.child.map(function(t){return e(t)}).join(""));var n="";if(t.attr&&""!==(n=Object.keys(t.attr).map(function(e){var r=t.attr[e];return Array.isArray(r)&&(r=r.join(" ")),e+"="+('"'+r+'"')}).join(" "))&&(n=" "+n),"element"===t.node){var i=t.tag;return["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed"].indexOf(i)>-1?"<"+t.tag+n+"/>":"<"+t.tag+n+">"+r+("</"+t.tag+">")}return"text"===t.node?t.text:"comment"===t.node?"\x3c!--"+t.text+"--\x3e":"root"===t.node?r:void 0}}(this);