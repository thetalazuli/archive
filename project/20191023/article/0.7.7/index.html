 <style>
   @import url('/css/fomantic-ui/2.7.8.min.css');
   @import url('/js/native/code-mirror/5.48.4.min.css');
   @import url('/js/native/code-mirror/addon/dialog/dialog.css');
   @import url('/js/native/code-mirror/addon/hint/show-hint.css');
   @import url('/js/native/code-mirror/addon/fold/foldgutter.css');
   @import url('/js/native/code-mirror/addon/display/fullscreen.css');
   @import url('/js/native/code-mirror/addon/scroll/simplescrollbars.css');
   @import url('/js/native/code-mirror/addon/search/matchesonscrollbar.css');

   html,
   body{
     font:12px 'M+2VM+IPAG circle';
   }
   main{
     width:148mm;
     margin:0 auto;
   }
   main nav.row{
     padding:0 !important;
   }
   .ui.card,
   .ui.menu,
   .ui.label,
   .ui.segments{
     box-shadow: rgba(16, 36, 94, 0.4) 0 2px 6px 0 !important;
     border-bottom: 2px solid rgba(34,36,38,.15) !important;
   }
   .ui.label>.icon{
      margin-right:0;
    }
    .ui.segment nav{
     position: absolute;
     text-align:right;
     width:calc(100%);
     z-index: 999;
     right: -1em;
     top: -1em;
    }
    .ui.dropdown .label.active{
     background-color: white!important;
     border-color: white!important;
     color: black!important;
   }
   .ui.multiple.search.dropdown>.text .ui.label>.icon{
     margin-right:0;
   }
   .ui.multiple.search.dropdown>.text{
     margin:0;
   }
   .ui.label>.close.icon, .ui.label>.delete.icon{
     vertical-align: top;
     display:none;
   }
   .ui.selection.dropdown{
     display:block;
   }
   .ui.dropdown .dropdown.icon{
     display:none;
   }
   .ui.selection.dropdown{
     padding:.14285714em 0;
     border:none;
     min-height:auto;
     background:transparent;
   }
   .ui.multiple.dropdown>.label{
     font-size: .85714286rem;
     padding: .5833em .833em;
   }
   .ui.popup{
     border:none;
     box-shadow:none;
     padding-right:0;
   }
   .ui.popup .dg.main .close-button{
     display:none;
   }
   .ui.popup .dg.main{
     width:100% !important;
   }
</style>
 <body>
   <main>
     <div class='ui grid padded'>
       <div class='row top'>
         <div class='column'>
           <!-- 頭を切り替える -->
           <router-view name='top'>
          </router-view>
        </div>
      </div>
       <nav class='row'>
         <div class='column'>
           <!-- Global Nav Menu -->
           <div class='ui menu pointing icon'>
             <div v-show="$route.path == '/book/edit'" ref='window' class='item active'><i class='icon edit'></i></div>
             <div class='ui popup very basic'>
               <div class='ui card'>
                 <!-- リフィル:フォルダ毎にパッケージング -->
                 <!-- youtueのURLを入力すると自動でタグ解析されるとか -->
                 <!-- 2chの記事を入力すると自動で纏めてくれるとか -->
                 <!-- 画像をbase64に変換するとか -->
                 <!-- toolbox -->
                 <!-- 道具箱 -->
                 <dat-gui>
                    <dat-folder name='リフィル'>
                      <!-- segmentのpadding:true or false-->
                      <!-- youtubeのURLを入力すると自動でブロックとして挿入される -->
                   </dat-folder>
                   <dat-folder name='スタンプ'>
                      <!-- segmentのpadding:true or false-->
                      <!-- youtubeのURLを入力すると自動でブロックとして挿入される -->
                   </dat-folder>
                 </dat-gui>
                </div>
            </div>

             <router-link to='/home'><div class='item'><i class='icon home'></i></div></router-link>
             <router-link to='/book'><div class='item'><i class='icon user'></i></div></router-link>
             <router-link to='/book'><div class='item'><i class='icon users'></i></div><!-- GUN - DB --></router-link>

          </div>
        </div>
      </nav>
       <div class='row bottom'>
         <div class='column'>
           <!-- 頭が処理するもの -->
           <router-view name='bottom'>
          </router-view>
           
     

        </div>
      </div>
    </div>   
  </main>  
</body>
 <script src='/js/native/filesize/4.1.2.min.js'></script>
 <script src='/js/native/compressor/1.0.5.min.js'></script>
 <script src='/js/native/local-forage/1.7.3.min.js'></script>
 <script src='/js/native/code-mirror/5.48.4.js'></script>
 <script src='/js/native/code-mirror/keymap/5.48.4.min.js'></script>
 <script src='/js/native/code-mirror/addon/5.48.4.min.js'></script>
 <script src='/js/native/code-mirror/mode/5.48.4.min.js'></script>
 <script src='/js/native/dat-gui/0.7.6.min.js'></script>

 <script src='/js/jquery/3.4.1.min.js'></script>
 <script src='/js/jquery/plugin/fomantic-ui/2.7.8.min.js'></script>

 <script src='/js/vue/2.6.10.min.js'></script>
 <script src='/js/vue/x/3.1.1.min.js'></script>
 <script src='/js/vue/router/3.1.3.min.js'></script>
 <script src='/js/vue/plugin/loader/1.4.0.min.js'></script>

 <script src='/js/vue/plugin/auto-size/1.0.2.min.js'></script>
 <script src='/js/vue/plugin/code-mirror/4.0.6.min.js'></script>
 <script src='/js/vue/plugin/dat-gui/0.0.1.min.js'></script>
 <script>
   
   Vue.use(VueDatGui)
   Vue.use(VueLoader)
   Vue.use(VueAutoSize)
   Vue.use(VueCodeMirror,{
      options:{
        scrollbarStyle  : 'simple',
        theme           : 'default',
        mode            : 'htmlmixed',
        firstLineNumber : 1,
        tabSize         : 2,
        indentUnit      : 2,
        matchTags       : {bothTags: true},
        htmlMode        : true,
        autoCloseTags   : true,
        foldGutter      : true,
        lineNumbers     : true,
        lineWrapping    : true,
        extraKeys: {
          'Ctrl-A': 'autocomplete',
          'Ctrl-Q': function(cm){
            cm.foldCode(cm.getCursor())
          },
          'F11': function(cm){
            cm.setOption("fullScreen", !cm.getOption("fullScreen"))
          }
        },
        gutters: [
          'CodeMirror-linenumbers',
          'CodeMirror-foldgutter'
        ]
      }
    })


   var info = new Vuex.Store({
     mutations:{

     },
     getters:{
       header:function(state){
         return state.header
       },
       title:function(state){
         return state.title
       }
     },
     state:{
       title:'TITLE',
       header:{
         title:'開発日記',
         description:'こんにちは。私は開発者です。この日記は私が開発していく中で書き溜めた記事を公開刷る場所にしています。いくつかの文書は有益なものになるでしょう。いくつかの記事は誰かしらに影響があると思われます。私は２７歳ですが。人生はより楽しいものになると信じて行動しています。'
       }
     }
   })


   var views = new VueRouter({
     routes:[
       {
         path:'/',
         redirect:'home'
       },
       {
         path:'/home',
         redirect:'/home/about',
         components:{
           top:VueLoader('view/home/top.vue'),
           bottom:VueLoader('view/home/bottom.vue')
         },
         children:[
           {
             path:'about',
             components:{
               default:VueLoader('view/home/bottom/about.vue'),
               aboutdoc:VueLoader('view/home/bottom/aboutdoc.vue')
             }
           },
           {
             path:'how-to',
             components:{
               default:VueLoader('view/home/bottom/how-to.vue'),
               helpdoc:VueLoader('view/home/bottom/helpdoc.vue'),
             }
           },
           {
             path:'developers',
             components:{
               default:VueLoader('view/home/bottom/developers.vue'),
               developersdoc:VueLoader('view/home/bottom/developersdoc.vue')
             }
           }
         ]
       },
       {
         path:'/book',
         redirect:'/book/cover',
         components:{
           top:VueLoader('view/book/cover/top.vue'),
           bottom:VueLoader('view/book/cover/bottom.vue'),
         },
         children:[
           {
             path:'cover',
             components:{
               default:VueLoader('view/book/top/cover.vue'),
               cover:VueLoader('view/book/top/cover.vue'),
               summary:VueLoader('view/book/bottom/summary.vue')
             }
           },
           {
             path:'index',
             components:{
               default:VueLoader('view/book/top/index.vue'),
               articles:VueLoader('view/book/bottom/articles.vue')
             }
           },
           {
             path:'edit',
             components:{
               default:VueLoader('view/book/top/document.vue'),
               editor:VueLoader('view/book/bottom/editor.vue'),
               editingdoc:VueLoader('view/book/top/editingdoc.vue')
             }
           }
         ]
       },
       {
         path:'/list',
         components:{
           
         }
       }
     ]
   })


   new Vue({
     el:'main',
     store:info,
     router:views,
     watch:{
       '$route':{
         handler:function(path){
          if (path != '/book/edit'){
            $(this.$refs.window).popup('hide')
           }
         }
       },
       '$route.path':{
         handler:function(path){
           if (path == '/book/edit'){
            $(this.$refs.window).popup('show')
           }


           console.log(path)
         }
       }
     },
     mounted:function(){

      $(this.$refs.window).popup({
                on:'click',
                closable:false,
                position:'left center',
            })  
     }
   })   
</script>