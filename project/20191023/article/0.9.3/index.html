<meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no' name='viewport'>


<style>
   @import url('/css/fomantic-ui/2.7.8.css');
   html,
   body{
     font:12px 'M+2VM+IPAG circle';
   }
   main{
     width:148mm;
     margin:0 auto;
   }

   .ui.menu,
   .ui.label,
   .ui.segments{
     box-shadow: rgba(16, 36, 94, 0.4) 0 2px 6px 0 !important;
     border-bottom: 2px solid rgba(34,36,38,.15) !important;
   }
   .ui.multiple.search.dropdown>.text .ui.label>.icon{
     margin-right:0;
   }
   .ui.multiple.search.dropdown>.text{
     margin:0;
   }
   .ui.label>.close.icon, .ui.label>.delete.icon{
     display:none;
     vertical-align:top;
   }
   .ui.selection.dropdown{
     display:block;
   }
   .ui.dropdown .dropdown.icon{
     display:none;
   }
   .ui.selection.dropdown{
     border:none;
     min-height:auto;
     padding:.14285714em 0;
     background:transparent;
   }
   .ui.multiple.dropdown>.label{
     font-size:.85714286rem;
     padding:.5833em .833em;
   }
   .ui.dropdown .label.active{
     background-color: white!important;
     border-color: white!important;
     color: black!important;
   }
   .ui.selection.dropdown{
     padding-top:0;
   }
   .ui.label>.icon {
     margin-right: 0;
   }

   header:after{
     display:block;
     clear:both;
     content:'';
     height:0;
   }

   .ui.multiple.dropdown>.label {
    vertical-align: middle !important;
    margin-top:0;
   }
   /*
   .ui.multiple.search.dropdown>.text{
    margin:.14285714rem .28571429rem .14285714rem 0
   }
   .ui.multiple.search.dropdown > input.search{
     margin-top:.51638095em;
     margin-bottom:.51638095em;
   }
   .ui.multiple.search.dropdown>.ui.label{
     vertical-align:bottom;
   }
   .ui.label>.delete.icon{
     display:none;
   }
   .ui.multiple.dropdown>.label{
     font-size:.85714286rem;
     padding:.5963em .833em;
   }
   .ui.selection.dropdown{
     border:none;
     min-height:auto;
     background:transparent;
   }
  */
  .ui.multiple.search.dropdown > input.search{
     margin: 0.44238095em 0 0.44238095em 0;
  }
  .ui.multiple.search.dropdown{
    margin-left:0.34285714em;
  }
   .ui.document > .cover{
     padding:0;
   }
   nav{

     padding-left:0.357143em;
     position:absolute;
  
     width:100%;
     top:-1em;
     left:0;
   }

   p{
     line-height:1.2;
   }

   .document .ui.segment:nth-of-type(2) .ui.label ,
   .indexes .ui.label:nth-of-type(1){
     background-color: #767676;
     border-color: #767676;
   }
   .document .ui.segment:nth-of-type(3) .ui.label,
   .indexes > .ui.label:nth-of-type(2){
     background-color: #a5673f;
     border-color: #a5673f;
   }
   .document .ui.segment:nth-of-type(4) .ui.label ,
   .indexes  > .ui.label:nth-of-type(3){
     background-color: #e03997;
     border-color: #e03997;
   }
   .document .ui.segment:nth-of-type(5) .ui.label ,
   .indexes  > .ui.label:nth-of-type(4){
     background-color: #a333c8;
     border-color: #a333c8;
   }
   .document .ui.segment:nth-of-type(6) .ui.label ,
   .indexes  > .ui.label:nth-of-type(5){
     background-color: #6435c9;
     border-color: #6435c9;
   }
   .document .ui.segment:nth-of-type(7) .ui.label ,
   .indexes >  .ui.label:nth-of-type(6){
     background-color: #2185d0;
     border-color: #2185d0;
   }
   .document .ui.segment:nth-of-type(8) .ui.label ,
   .indexes  > .ui.label:nth-of-type(7){
     background-color: #00b5ad;
     border-color: #00b5ad;
   }
   .document .ui.segment:nth-of-type(9) .ui.label ,
   .indexes >  .ui.label:nth-of-type(8){
     background-color: #21ba45;
     border-color: #21ba45;
   }
   .document .ui.segment:nth-of-type(10) .ui.label ,
   .indexes >  .ui.label:nth-of-type(9){
     background-color: #b5cc18;
     border-color: #b5cc18;
   }
      .document .ui.segment:nth-of-type(11) .ui.label ,
   .indexes >  .ui.label:nth-of-type(10){
     background-color: #fbbd08;
     border-color: #fbbd08;
   }
   .document .ui.segment:nth-of-type(12) .ui.label ,
   .indexes >  .ui.label:nth-of-type(11){
     background-color: #f2711c;
     border-color: #f2711c;
   }
   .document .ui.segment:nth-of-type(13) .ui.label ,
   .indexes >  .ui.label:nth-of-type(12){
     background-color: #db2828;
     border-color: #db2828;
   }
   .ui.label{
     color:white;
   }
   .ui.segment.page{

     padding-top:1.2em;
 
   }

   .ui.grid > .row.menu{
     position:sticky;
     z-index:9999;
     top:0;
   }
  #tagsinput{

padding: 0.22619048em 3.2em 0.22619048em 0;
}

@media screen and (max-width:148mm){
      main{
        width:100%;
      }
    }
.ui.dimmer{
  display: block !important;
  text-align: left !important;
}
.ui.corner.label{
  z-index:99999;
}
</style>
 

 <script id='document' type='text/x-template'>
   <article class='ui segments stacked document'>
     <div @click='tags = !tags' class='ui label corner orange' style='z-index:99999;'>
       <i class='icon edit'></i>
    </div>
    <!-- 
      固定の方がいい
      それから、タグに5W2HとかNOW_DATEとか打つと
    　自動的に今日の日付に変換され日記のタグ構成が出来たり
    　5W2Hとうつと
    　[5W2H][What][When]...[N]というタグ構成で挿入されたりする


    -->
     <header class='ui segment cover'>
       <div class='dim' style='z-index:0;'>
          <div class="ui inverted dimmer">


            
              <div class="content">
              
                <div class="center" stlye='display:flex;flex-direction:column;'>
      
                 <div class="ui primary inverted button">このドキュメントに参加する</div>
     
                </div>
              </div>
            </div>

            <img v-show='!tags' class='ui fluid image' src='http://pre09.deviantart.net/daf8/th/pre/f/2016/028/0/7/totoro_branch_by_enkortsaga-d9pn7wr.png'>

          </div>
      <div v-show='tags' id='tagsinput'>
       <indexes  @remove='remove' @select='select' @insert='insert'></indexes>
      </div>
    </header>
     <section class='ui segment'>
       <div class='ui label ribbon orange'>
         TITLE
      </div>
       <p></p>
       <p>description</p>

    </section>

     <template v-for='(section,name) in article'>
       <section class='ui segment page'>
         <nav>
           <!-- step tag を押すと全ての記事が開く STEP-tagは次一個のディスクリプションsegmentを含む -->
           <!-- point tag を押すと一個の記事が開く。これは記事が長くなって編集する際にDOM書換の遅延を防ぐ目的がある　-->
           <div class='stepa ttt ui label' style='float:left;'>{{name}}</div>
           <indexes class='pointa ttt' style='float:left;'></indexes>
        </nav>

  
      </section>



    </template>
    <section class='ui secondary segment'>
      </section>

  </article>
</script>
 <script id='dropdown' type='text/x-template'>
   <div ref='labels' :class="['indexes',ui]">
     <input name='labels' type='hidden'>
       <div class='default text'>
         <div class='ui label orange'>
           <i class='icon tags'></i>
         </div>
        </div>
    </div>
</script>

 <body>
  <main>

    
    <div class='ui grid padded'>
      <div class='row'>
        <div class='column'>
          <div class='ui segments'>
            <div class='ui segment' style='padding:0;'>
              <img class='ui image fluid' src='https://kajimanomori.co.jp/about/images/img147h94957_1.jpg'>
            </div>
          </div>

        </div>
      </div>
      <div class='row menu'>
        <div class='column'>
          <div class='ui menu pointing icon'>
            <div class='item active'><i class='icon list'></i></div>
            <div class='right menu'>
              <!-- 新規作成 -->
              <!-- twitterの埋め込みとかできるように -->
              <!--
              <div class='item'><i class='icon twitter'></i></div>-->
              <div class='item'><i class='icon trash'></i></div>
              <div class='item'><i class='icon star'></i></div>
              <div class='item'><i class='icon file'></i></div>
            </div>
          </div>
    
       </div>
     </div>
      <div class='row'>
        <div class='column'>
    
          <document>
         </document>
       
       </div>
     </div>
     <div class='row'>
        <div class='column'>
    
          <document>
         </document>
       
       </div>
     </div>
     <div class='row'>
        <div class='column'>
    
          <document>
         </document>
       
       </div>
     </div>

   </div>
 </main>  
</body>
 <script src='/js/vue/2.6.10.min.js'></script>
 <script src='/js/jquery/3.4.1.min.js'></script>
 <script src='/js/jquery/plugin/fomantic-ui/2.7.8.min.js'></script>
 <script>

   Vue.component('document',{
     template:'#document',
     watch:{
       article:{
         handler:function(obj){
           console.dir(obj)
         }
       }
     },
     methods:{
       insert:function(name){
         this.$set(this.article,name,{
           content:''
         })
       },
       remove:function(name){
         this.$delete(this.article,name)
       },
       select:function(name){

       }
     },
     data:function(){
       return{
         tags:false,
         article:{

         },
         pages:{

         }
       }
     },
   })

   Vue.component('indexes',{
     template:'#dropdown',
     props:{
       color:{
         default:'orange',
         type:String
       }
     },
     computed:{
       ui:function(){
         return ['ui multiple search selection dropdown',this.color].join(' ')
       }
     },
     methods:{
       select:function($dom){
         this.$emit('select',$dom.dataset.value)
       },
       insert:function(name){
         this.$emit('insert',name)
       },
       remove:function(name){
         this.$emit('remove',name)
       }
     },
     mounted:function(){
       var self = this
       $(this.$refs.labels).dropdown({
        label: {
  transition : 'horizontal flip',
  duration   : 200,
  variation  : false
},
         allowAdditions:true,
         onAdd         :self.insert,
         onRemove      :self.remove,
         onLabelSelect :self.select
       })
     }
   })

   new Vue({
     mounted:function(){
    
      $('.dim').dimmer({
  on: 'hover'
});
     },
     el:'main',
     data:{

     }
   })
</script>